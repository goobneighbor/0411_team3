<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.t09ether.home.dao.OnlineReviewDAO">
<select id="selectReview" resultType="com.t09ether.home.dto.OnlineReviewDTO">
	select rate, userid, content, to_char(writedate, 'MM.DD') writedate from on_review where pro_code=#{pro_code}
</select>
<select id="rateAvg" resultType="int">
	select avg(rate) from on_review where pro_code=#{pro_code}
</select>
<select id="userList" resultType="String">
	select distinct userid from order09 where pro_code=#{pro_code} and userid not in (select userid from on_review where pro_code=#{pro_code})
</select>
</mapper>